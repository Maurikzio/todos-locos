(this["webpackJsonptodos-locos"]=this["webpackJsonptodos-locos"]||[]).push([[0],{267:function(e,n,t){e.exports=t(466)},272:function(e,n,t){},466:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(123),i=t.n(o),l=(t(272),t(5)),c=t(61),s=t(25),u=t(12),d=t(13);function m(){var e=Object(u.a)(["\n    padding: 10px;\n    font-weight: 800;\n    display: flex;\n    align-items: center;\n    flex-grow: 1;\n    width: 100%;\n"]);return m=function(){return e},e}var p=d.a.div(m()),f=function(){return r.a.createElement(p,null,"ToDos Locos")};function g(){var e=Object(u.a)([" \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-left: 0px;\n    width: 100%;\n    li{\n        display: flex;\n        padding: 0 15px;\n        font-weight: 800;\n        a{\n            text-decoration: none;\n            color: black;\n        }\n    }\n"]);return g=function(){return e},e}function h(){var e=Object(u.a)(["\n    display: flex;\n    flex-grow: 1;\n    width: 100%;\n"]);return h=function(){return e},e}function b(){var e=Object(u.a)(["\n    position: fixed;\n    top:0;\n    left:0;\n    width: 100%;\n    height: 60px;\n    background-color: orange; \n    display: flex;\n    padding: 0 20px;\n"]);return b=function(){return e},e}var x=d.a.div(b()),E=d.a.nav(h()),v=d.a.ul(g()),y=function(e){var n;return n=e.loggedIn.uid?r.a.createElement(v,null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos"},"Todos")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/logout"},"Logout"))):r.a.createElement(v,null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/login"},"Login")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/signup"},"Signup"))),r.a.createElement(x,null,r.a.createElement(f,null),r.a.createElement(E,null,n))};function w(){var e=Object(u.a)(["\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n    & div{\n        position: absolute;\n        border: 4px solid orange;\n        opacity: 1;\n        border-radius: 50%;\n        animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n        &:nth-child(2){\n            animation-delay: -0.5s;\n        }\n    }\n    /* & div:nth-child(2){\n        animation-delay: -0.5s;\n    } */\n    @keyframes lds-ripple {\n    0% {\n        top: 36px;\n        left: 36px;\n        width: 0;\n        height: 0;\n        opacity: 1;\n    }\n    100% {\n        top: 0px;\n        left: 0px;\n        width: 72px;\n        height: 72px;\n        opacity: 0;\n    }\n    }\n"]);return w=function(){return e},e}var j=d.a.div(w()),O=function(){return r.a.createElement(j,null,r.a.createElement("div",null),r.a.createElement("div",null))};function T(){var e=Object(u.a)(["\n    height: calc(100% + 60px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return T=function(){return e},e}function S(){var e=Object(u.a)(["\n    width: 100%;\n    margin-top: 60px;\n"]);return S=function(){return e},e}var U=d.a.div(S()),A=d.a.div(T()),I=Object(s.b)((function(e){var n=e.firebase;return{loggedIn:n.auth,authIsLoaded:n.auth.isLoaded}}))((function(e){var n=e.children,t=e.loggedIn;return e.authIsLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{loggedIn:t}),r.a.createElement(U,null,n)):r.a.createElement(A,null,r.a.createElement(O,null))})),k=function(){return r.a.createElement("h1",null,"You are in todos page..")},F=t(8),L=t(28),N=t(37),P=t.n(N),_=t(84),q=function(){return{type:"CLEAN_UP"}};function D(){var e=Object(u.a)(["\n    border-radius: 10px;\n    box-shadow: 0 5px 5px rgba(255, 165, 0,  .5);\n    padding: 30px 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto;\n    width: 500px;\n"]);return D=function(){return e},e}function C(){var e=Object(u.a)(["\n    /* background-color: red; */\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n"]);return C=function(){return e},e}var H=d.a.div(C()),V=d.a.div(D()),Y=L.a().shape({email:L.c().email("Invalid email").required("The email is required"),password:L.c().required("The password is required").min(8,"Too short password")}),R={login:function(e){return function(){var n=Object(_.a)(P.a.mark((function n(t,a,r){var o,i;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.getFirebase,i=o(),t({type:"AUTH_START"}),n.prev=3,n.next=6,i.auth().signInWithEmailAndPassword(e.email,e.password);case 6:t({type:"AUTH_SUCCESS"}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(3),console.log(n.t0.message),t({type:"AUTH_FAIL",payload:n.t0.message});case 13:t({type:"AUTH_END"});case 14:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(e,t,a){return n.apply(this,arguments)}}()},cleanUp:q},z=Object(s.b)((function(e){var n=e.auth;return{loading:n.loading,error:n.error}}),R)((function(e){var n=e.loading,t=e.error,o=e.login,i=e.cleanUp;return Object(a.useEffect)((function(){return function(){i()}}),[i]),r.a.createElement(H,null,r.a.createElement(F.d,{initialValues:{email:"",password:""},validationSchema:Y,onSubmit:function(e,n){var t=n.setSubmitting;o(e),t(!1)}},(function(e){var a=e.isSubmitting,o=e.isValid;return r.a.createElement(V,null,r.a.createElement("p",null,"Login"),r.a.createElement(F.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(F.b,{type:"email",name:"email",placeholder:"Your email.."}),r.a.createElement(F.a,{name:"email"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(F.b,{type:"password",name:"password",placeholder:"Your password..."}),r.a.createElement(F.a,{name:"password"})),r.a.createElement("button",{disabled:!o||a,type:"submit"},n?"Loggin in...":"Login"),t&&r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},t)))})))}));function W(){var e=Object(u.a)(["\n    border-radius: 10px;\n    box-shadow: 0 5px 5px rgba(255, 165, 0,  .5);\n    padding: 30px 60px;\n    display: flex;\n    flex-direction: column;\n    margin: 0 auto;\n    width: 500px;\n    text-align: center;\n"]);return W=function(){return e},e}function B(){var e=Object(u.a)(["\n    /* background-color: red; */\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n"]);return B=function(){return e},e}var G=d.a.div(B()),K=d.a.div(W()),M=L.a().shape({firstName:L.c().required("First name is required").min(3,"Too short").max(25,"Too long"),lastName:L.c().required("Last name is required").min(3,"Too short").max(25,"Too long"),email:L.c().email("Invalid email").required("The email is required"),password:L.c().required("The password is required").min(8,"The password is too short"),confirmPassword:L.c().oneOf([L.b("password"),null],"Password doesnt match").required("You need to confirm your password")}),J={signUp:function(e){return function(){var n=Object(_.a)(P.a.mark((function n(t,a,r){var o,i,l,c,s,u;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.getFirebase,i=r.getFirestore,l=o(),c=i(),t({type:"AUTH_START"}),n.prev=4,n.next=7,l.auth().createUserWithEmailAndPassword(e.email,e.password);case 7:return s=n.sent,u=l.auth().currentUser,n.next=11,u.sendEmailVerification();case 11:return n.next=13,c.collection("users").doc(s.user.uid).set({firstName:e.firstName,lastName:e.lastName});case 13:t({type:"AUTH_SUCCESS"}),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(4),t({type:"AUTH_FAIL",payload:n.t0.message}),console.log("Somwthing wrong happened: ",n.t0.message);case 20:t({type:"AUTH_END"});case 21:case"end":return n.stop()}}),n,null,[[4,16]])})));return function(e,t,a){return n.apply(this,arguments)}}()},cleanUp:q},X=Object(s.b)((function(e){var n=e.auth;return{loading:n.loading,error:n.error}}),J)((function(e){var n=e.signUp,t=e.loading,o=e.error,i=e.cleanUp;return Object(a.useEffect)((function(){i()}),[i]),r.a.createElement(G,null,r.a.createElement(F.d,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:M,onSubmit:function(){var e=Object(_.a)(P.a.mark((function e(t,a){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.setSubmitting,console.log(t),e.next=4,n(t);case 4:r(!1);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},(function(e){var n=e.isSubmitting,a=e.isValid;return r.a.createElement(K,null,r.a.createElement("p",null,"Sign up"),r.a.createElement(F.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px",width:"100%"}},r.a.createElement(F.b,{type:"text",name:"firstName",placeholder:"Your first name.."}),r.a.createElement(F.a,{name:"firstName"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(F.b,{type:"text",name:"lastName",placeholder:"Your last name.."}),r.a.createElement(F.a,{name:"lastName"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(F.b,{type:"email",name:"email",placeholder:"Your email.."}),r.a.createElement(F.a,{name:"email"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(F.b,{type:"password",name:"password",placeholder:"Your password..."}),r.a.createElement(F.a,{name:"password"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(F.b,{type:"password",name:"confirmPassword",placeholder:"Confirm password..."}),r.a.createElement(F.a,{name:"confirmPassword"})),r.a.createElement("button",{disabled:!a||n,type:"submit"},t?"Signing up...":"Submit"),o&&r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},o)))})))})),Z={logout:function(){return function(){var e=Object(_.a)(P.a.mark((function e(n,t,a){var r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getFirebase,o=r(),e.prev=2,e.next=5,o.auth().signOut();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n,t,a){return e.apply(this,arguments)}}()}},$=Object(s.b)(null,Z)((function(e){var n=e.logout;return Object(a.useEffect)((function(){n()}),[n]),null})),Q=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"You are not verified..."),r.a.createElement("p",null,"Go to your mail inbox and pls verify the email.."))};var ee=Object(s.b)((function(e){var n=e.firebase;return{loggedIn:n.auth.uid,emailVerified:n.auth.emailVerified}}))((function(e){var n,t=e.loggedIn,a=e.emailVerified;return console.log("email verified: ".concat(a)),console.log("logged in: ".concat(t)),n=t&&!a?r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/todos-locos/verify-email",component:Q}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/logout",component:$}),r.a.createElement(l.a,{to:"/todos-locos/verify-email"})):t&&a?r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/todos-locos/",component:k}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/logout",component:$}),r.a.createElement(l.a,{to:"/todos-locos"})):r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/todos-locos/login",component:z}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/signup",component:X}),r.a.createElement(l.a,{to:"/todos-locos/login"})),r.a.createElement(c.a,null,r.a.createElement(I,null,n))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=t(80),te=t(97),ae=t(135),re=t.n(ae);t(460),t(464);re.a.initializeApp({apiKey:"AIzaSyDMx1ZxrSjziX93PXYnTICyWzrUUrIVKcI",authDomain:"to-dos-locos.firebaseapp.com",databaseURL:"https://to-dos-locos.firebaseio.com",projectId:"to-dos-locos",storageBucket:"to-dos-locos.appspot.com",messagingSenderId:"994852635401",appId:"1:994852635401:web:19415303577f90ed7a09d8",measurementId:"G-VRLZKMGPR4"}),re.a.firestore();var oe=re.a,ie=t(47),le=t(266),ce=t(31),se={error:null,loading:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"AUTH_START":return Object(ce.a)(Object(ce.a)({},e),{},{loading:!0});case"AUTH_END":return Object(ce.a)(Object(ce.a)({},e),{},{loading:!1});case"AUTH_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{error:!1});case"AUTH_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{error:n.payload});case"CLEAN_UP":return Object(ce.a)(Object(ce.a)({},e),{},{error:null,loading:!1});default:return e}},de=Object(ie.c)({auth:ue,firebase:ne.firebaseReducer}),me=ie.d,pe=Object(ie.e)(de,me(Object(te.reduxFirestore)(oe),Object(ie.a)(le.a.withExtraArgument({getFirebase:ne.getFirebase,getFirestore:te.getFirestore})))),fe={firebase:oe,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:pe.dispatch,createFirestoreInstance:te.createFirestoreInstance};i.a.render(r.a.createElement(s.a,{store:pe},r.a.createElement(ne.ReactReduxFirebaseProvider,fe,r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[267,1,2]]]);
//# sourceMappingURL=main.ca43fcc7.chunk.js.map