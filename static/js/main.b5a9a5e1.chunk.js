(this["webpackJsonptodos-locos"]=this["webpackJsonptodos-locos"]||[]).push([[0],{268:function(e,t,n){e.exports=n(467)},273:function(e,t,n){},467:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(75),i=n.n(o),l=(n(273),n(12)),c=n(40),u=n(7),s=n(5),d=n(6);function m(){var e=Object(s.a)(["\n    padding: 10px;\n    font-weight: 800;\n    display: flex;\n    align-items: center;\n    flex-grow: 1;\n    width: 100%;\n"]);return m=function(){return e},e}var p=d.a.div(m()),f=function(){return r.a.createElement(p,null,"ToDos Locos")};function b(){var e=Object(s.a)([" \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-left: 0px;\n    width: 100%;\n    li{\n        display: flex;\n        padding: 0 15px;\n        font-weight: 800;\n        a{\n            text-decoration: none;\n            color: black;\n        }\n    }\n"]);return b=function(){return e},e}function E(){var e=Object(s.a)(["\n    display: flex;\n    flex-grow: 1;\n    width: 100%;\n"]);return E=function(){return e},e}function g(){var e=Object(s.a)(["\n    position: fixed;\n    top:0;\n    left:0;\n    width: 100%;\n    height: 60px;\n    background-color: orange; \n    display: flex;\n    padding: 0 20px;\n    z-index: 100;\n"]);return g=function(){return e},e}var h=d.a.div(g()),v=d.a.nav(E()),x=d.a.ul(b()),y=function(e){var t;return t=e.loggedIn.uid?r.a.createElement(x,null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos"},"Todos")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/logout"},"Logout"))):r.a.createElement(x,null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/login"},"Login")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/todos-locos/signup"},"Signup"))),r.a.createElement(h,null,r.a.createElement(f,null),r.a.createElement(v,null,t))};function O(){var e=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n    & div{\n        position: absolute;\n        border: 4px solid orange;\n        opacity: 1;\n        border-radius: 50%;\n        animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n        &:nth-child(2){\n            animation-delay: -0.5s;\n        }\n    }\n    /* & div:nth-child(2){\n        animation-delay: -0.5s;\n    } */\n    @keyframes lds-ripple {\n    0% {\n        top: 36px;\n        left: 36px;\n        width: 0;\n        height: 0;\n        opacity: 1;\n    }\n    100% {\n        top: 0px;\n        left: 0px;\n        width: 72px;\n        height: 72px;\n        opacity: 0;\n    }\n    }\n"]);return O=function(){return e},e}var j=d.a.div(O()),w=function(){return r.a.createElement(j,null,r.a.createElement("div",null),r.a.createElement("div",null))};function T(){var e=Object(s.a)(["\n    height: calc(100% + 60px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return T=function(){return e},e}function S(){var e=Object(s.a)(["\n    width: 100%;\n    margin-top: 60px;\n    height: 100%;\n    background-color: rgb(248, 248, 250);\n"]);return S=function(){return e},e}var D=d.a.div(S()),_=d.a.div(T()),k=Object(u.b)((function(e){var t=e.firebase;return{loggedIn:t.auth,authIsLoaded:t.auth.isLoaded}}))((function(e){var t=e.children,n=e.loggedIn;return e.authIsLoaded?r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(y,{loggedIn:n}),r.a.createElement(D,null,t)):r.a.createElement(_,null,r.a.createElement(w,null))})),I=n(47),U=n(9),A=n.n(U),C=n(18),F=n(39),R=n(3),L=n(8);function P(){var e=Object(s.a)(["\n    position: fixed;\n    top: 0;\n    left: 0%;\n    width: 100%;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, 0.7);\n    opacity: ",";\n    visibility: ",";\n    transition: all 0.1s;\n    z-index: 100;\n"]);return P=function(){return e},e}var N=d.a.div(P(),(function(e){return e.opened?"1":"0"}),(function(e){return e.opened?"visible":"hidden"})),V=function(e){var t=e.opened,n=e.close;return r.a.createElement(N,{onClick:n,opened:t})};function Y(){var e=Object(s.a)(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: ",";\n    opacity: ",";\n    visibility: ",";\n    width: 100%;\n    color: white;\n    max-width: 700px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    /* box-shadow: 0 10px 5px orange; */\n    transition: all .5s;\n    z-index: 150;\n    padding: 40px 30px;\n    background-color: orange;\n"]);return Y=function(){return e},e}var q=d.a.div(Y(),(function(e){return e.opened?"translate(-50%, -50%)":"translate(-50%, -150%)"}),(function(e){return e.opened?"1":"0"}),(function(e){return e.opened?"visible":"hidden"})),z=function(e){var t=e.opened,n=e.close,a=e.children;return i.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{close:n,opened:t}),r.a.createElement(q,{opened:t},a)),document.getElementById("root-modal"))},H=function(){return{type:"CLEAN_UP"}},W=L.a().shape({todo:L.c().required("The content is required").min(4,"Too short...")}),G={addTodo:function(e){return function(){var t=Object(C.a)(A.a.mark((function t(n,a,r){var o,i,l,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getFirestore,i=o(),l=a().firebase.auth.uid,n({type:"ADD_TODO_START"}),t.prev=4,c={id:(new Date).valueOf(),todo:e.todo},t.next=8,i.collection("todos").doc(l).set({todos:i.FieldValue.arrayUnion(c)},{merge:!0});case 8:return n({type:"ADD_TODO_SUCCESS"}),t.abrupt("return",!0);case 12:t.prev=12,t.t0=t.catch(4),n({type:"ADD_TODO_FAIL",payload:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,n,a){return t.apply(this,arguments)}}()}},B=Object(u.b)((function(e){var t=e.todos;return{loading:t.loading,error:t.error}}),G)((function(e){var t=e.loading,n=e.error,o=e.addTodo,i=Object(a.useState)(!1),l=Object(F.a)(i,2),c=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return u(!0)}},"Add todo"),r.a.createElement(z,{opened:c,close:function(){return u(!1)}},r.a.createElement("h1",null,"Add your new ToDo"),r.a.createElement("h3",null,"Type your ToDo and press ADD"),r.a.createElement("div",null,r.a.createElement(R.d,{initialValues:{todo:""},validationSchema:W,onSubmit:function(){var e=Object(C.a)(A.a.mark((function e(t,n){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,r=n.resetForm,e.next=3,o(t);case 3:e.sent&&u(!1),a(!1),r();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var a=e.isSubmitting,o=e.isValid,i=e.resetForm;return r.a.createElement(R.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px",color:"red"}},r.a.createElement(R.b,{type:"text",name:"todo",placeholder:"Type your todo"}),r.a.createElement(R.a,{name:"todo"})),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-evenly"}},r.a.createElement("button",{disabled:!o||a,type:"submit"},t?"Adding...":"ADD"),r.a.createElement("button",{type:"button",onClick:function(){u(!1),i()}},"Cancel")),n&&r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},n))})))))}));function K(){var e=Object(s.a)(["\n    padding: 10px 5px;\n    font-weight: 800;\n"]);return K=function(){return e},e}function M(){var e=Object(s.a)(["\n    margin-top: 10px;\n    display: flex;\n"]);return M=function(){return e},e}var J=d.a.div(M()),X=d.a.div(K()),Z={deleteTodo:function(e){return function(){var t=Object(C.a)(A.a.mark((function t(n,a,r){var o,i,l,c,u;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.getFirebase,o=r.getFirestore,i=o(),l=a().firebase.auth.uid,n({type:"DELETE_TODO_START"}),t.prev=4,t.next=7,i.collection("todos").doc(l).get();case 7:return c=t.sent,u=c.data().todos.filter((function(t){return t.id!==e})),t.next=11,i.collection("todos").doc(l).update({todos:u});case 11:n({type:"DELETE_TODO_SUCCESS"}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),n({type:"DELETE_TODO_FAIL",payload:t.t0.message});case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e,n,a){return t.apply(this,arguments)}}()}},Q=Object(u.b)((function(e){var t=e.todos;return{error:t.deleteTodo.error,loading:t.deleteTodo.loading}}),Z)((function(e){var t=e.show,n=e.close,a=e.todo,o=e.error,i=e.loading,l=e.deleteTodo;return r.a.createElement("div",null,r.a.createElement(z,{opened:t,close:n},r.a.createElement("h1",null,"Do you want to delete this ToDo?"),r.a.createElement(X,null,a.todo),r.a.createElement(J,null,r.a.createElement("button",{onClick:function(){return l(a.id)}},i?"Deleting...":"Delete"),r.a.createElement("button",{onClick:n},"Cancel")),o&&r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},o)))}));function $(){var e=Object(s.a)(["\n    display: block;\n    font-size: 20px;\n    margin: 20px 0;\n    padding: 0;\n    width: 100%;\n    text-align: center;\n    border: none;\n\n"]);return $=function(){return e},e}var ee=d.a.input($()),te=function(e){var t=e.todo,n=e.toEdit,o=Object(a.useState)(t.todo),i=Object(F.a)(o,2),l=i[0],c=i[1];return r.a.createElement(ee,{type:"text",value:l,onChange:function(e){c(e.target.value),n(e.target.value)},autoFocus:!0})};function ne(){var e=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: 80px;\n    /* background-color: red; */\n    & div{\n        position: absolute;\n        top: 33px;\n        width: 13px;\n        height: 13px;\n        border-radius: 50%;\n        background: orange;\n        animation-timing-function: cubic-bezier(0, 1, 1, 0);\n        &:nth-child(1){\n            left: 8px;\n            animation: lds-ellipsis1 0.6s infinite;\n        }\n        &:nth-child(2){\n            left: 8px;\n            animation: lds-ellipsis2 0.6s infinite;\n        }\n        &:nth-child(3){\n            left: 32px;\n            animation: lds-ellipsis2 0.6s infinite;\n        }\n        &:nth-child(4){\n            left: 56px;\n            animation: lds-ellipsis3 0.6s infinite;\n        }\n    }\n    @keyframes lds-ellipsis1 {\n        0% {\n            transform: scale(0);\n        }\n        100% {\n            transform: scale(1);\n        }\n    }\n    @keyframes lds-ellipsis3 {\n        0% {\n            transform: scale(1);\n        }\n        100% {\n            transform: scale(0);\n        }\n    }\n    @keyframes lds-ellipsis2 {\n        0% {\n            transform: translate(0, 0);\n        }\n        100% {\n            transform: translate(24px, 0);\n        }\n    }\n\n"]);return ne=function(){return e},e}var ae=d.a.div(ne()),re=function(){return r.a.createElement(ae,null,r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};function oe(){var e=Object(s.a)(["\n    height: 80px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    p{\n        margin: 0px 0px;\n        font-size: 20px;\n    }\n"]);return oe=function(){return e},e}function ie(){var e=Object(s.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    cursor: pointer;\n    i {\n        color: rgb(248, 248, 250);\n    }\n    i:hover{\n        color: yellow;\n    }\n"]);return ie=function(){return e},e}function le(){var e=Object(s.a)(["\n    width: 300px;\n    position: relative;\n    border: 1px solid black;\n    margin: 5px 0px;\n    text-align: center;\n"]);return le=function(){return e},e}var ce=d.a.div(le()),ue=d.a.div(ie()),se=d.a.div(oe()),de={background:"rgba(0, 200, 0, 1)",flexGrow:"1",padding:"5px 0"},me={background:"rgba(230, 0, 0, 1)",flexGrow:"1",padding:"5px 0"},pe={modifyTodo:function(e,t){return function(){var n=Object(C.a)(A.a.mark((function n(a,r,o){var i,l,c,u,s,d;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o.getFirestore,l=i(),c=r().firebase.auth.uid,a({type:"EDIT_TODO_START"}),n.prev=4,n.next=7,l.collection("todos").doc(c).get();case 7:return u=n.sent,s=u.data().todos,d=s.findIndex((function(t){return t.id===e})),s[d].todo=t,n.next=13,l.collection("todos").doc(c).update({todos:s});case 13:a({type:"EDIT_TODO_SUCCESS"}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(4),a({type:"ADD_TODO_FAIL",payload:n.t0.message});case 19:case"end":return n.stop()}}),n,null,[[4,16]])})));return function(e,t,a){return n.apply(this,arguments)}}()}},fe=Object(u.b)(null,pe)((function(e){var t=e.todo,n=e.modifyTodo,o=Object(a.useState)(!1),i=Object(F.a)(o,2),l=i[0],c=i[1],s=Object(a.useState)(!1),d=Object(F.a)(s,2),m=d[0],p=d[1],f=Object(a.useState)(t.todo),b=Object(F.a)(f,2),E=b[0],g=b[1],h=Object(u.c)((function(e){return e.todos.editTodo.loading}));return r.a.createElement(ce,null,r.a.createElement(se,null,m?h?r.a.createElement(re,null):r.a.createElement(te,{toEdit:g,todo:t}):r.a.createElement("p",null,t.todo)),r.a.createElement(ue,null,m?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-check",enabled:!0,style:de,onClick:Object(C.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t.id,E);case 2:p(!1);case 3:case"end":return e.stop()}}),e)})))})," ",r.a.createElement("i",{className:"fas fa-times",style:me,onClick:function(){return p(!1)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"far fa-edit",style:de,onClick:function(){return p(!0)}})," ",r.a.createElement("i",{className:"far fa-trash-alt",style:me,onClick:function(){return c(!0)}})),r.a.createElement(Q,{show:l,close:function(){return c(!1)},todo:t})))}));function be(){var e=Object(s.a)(["\n    /* background-color: green; */\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return be=function(){return e},e}function Ee(){var e=Object(s.a)(["\n    width: 100%;\n    height: 100%;\n    /* background-color: red; */\n    display: flex;\n    flex-direction: column;\n    /* justify-content: center; */\n    h1{\n        text-align: center;\n    }\n\n"]);return Ee=function(){return e},e}var ge=d.a.div(Ee()),he=d.a.div(be()),ve=function(){var e="Qkw18cnqIKPnugsRwdcYqfogiAp1";Object(I.useFirestoreConnect)((function(){return[{collection:"todos",doc:e}]}));var t,n=Object(u.c)((function(t){var n=t.firestore.data;return n.todos&&n.todos[e].todos})),a=Object(u.c)((function(t){return t.firestore.status.requested["todos/".concat(e)]}));return t=n?!n&&a||0===n.length?r.a.createElement("p",null,"You have no todos!"):n.map((function(e){return r.a.createElement(fe,{key:e.id,todo:e})})):r.a.createElement(w,null),r.a.createElement(ge,null,r.a.createElement("h1",null,"Your ToDos"),r.a.createElement(he,null,r.a.createElement(B,null),t))};function xe(){var e=Object(s.a)(["\n    font-size: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    & a {\n        align-self: center;\n        text-decoration: none;\n        margin-left: 3px;\n    }\n"]);return xe=function(){return e},e}function ye(){var e=Object(s.a)(["\n    border-radius: 10px;\n    box-shadow: 0 5px 5px rgba(255, 165, 0,  .5);\n    padding: 30px 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto;\n    width: 500px;\n"]);return ye=function(){return e},e}function Oe(){var e=Object(s.a)(["\n    /* background-color: red; */\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n"]);return Oe=function(){return e},e}var je=d.a.div(Oe()),we=d.a.div(ye()),Te=d.a.div(xe()),Se=L.a().shape({email:L.c().email("Invalid email").required("The email is required"),password:L.c().required("The password is required").min(8,"Too short password")}),De={login:function(e){return function(){var t=Object(C.a)(A.a.mark((function t(n,a,r){var o,i;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getFirebase,i=o(),n({type:"AUTH_START"}),t.prev=3,t.next=6,i.auth().signInWithEmailAndPassword(e.email,e.password);case 6:n({type:"AUTH_SUCCESS"}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0.message),n({type:"AUTH_FAIL",payload:t.t0.message});case 13:n({type:"AUTH_END"});case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n,a){return t.apply(this,arguments)}}()},cleanUp:H},_e=Object(u.b)((function(e){var t=e.auth;return{loading:t.loading,error:t.error}}),De)((function(e){var t=e.loading,n=e.error,o=e.login,i=e.cleanUp;return Object(a.useEffect)((function(){return function(){i()}}),[i]),r.a.createElement(je,null,r.a.createElement(R.d,{initialValues:{email:"",password:""},validationSchema:Se,onSubmit:function(e,t){var n=t.setSubmitting;o(e),n(!1)}},(function(e){var a=e.isSubmitting,o=e.isValid;return r.a.createElement(we,null,r.a.createElement("p",null,"Login"),r.a.createElement(R.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"email",name:"email",placeholder:"Your email.."}),r.a.createElement(R.a,{name:"email"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"password",name:"password",placeholder:"Your password..."}),r.a.createElement(R.a,{name:"password"})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("button",{disabled:!o||a,type:"submit"},t?"Loggin in...":"Login"),r.a.createElement(Te,null,r.a.createElement(c.b,{to:"/todos-locos/recover-password"},"Recover password"))),n&&r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},n)))})))}));function ke(){var e=Object(s.a)(["\n    border-radius: 10px;\n    box-shadow: 0 5px 5px rgba(255, 165, 0,  .5);\n    padding: 30px 60px;\n    display: flex;\n    flex-direction: column;\n    margin: 0 auto;\n    width: 500px;\n    text-align: center;\n"]);return ke=function(){return e},e}function Ie(){var e=Object(s.a)(["\n    /* background-color: red; */\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n"]);return Ie=function(){return e},e}var Ue=d.a.div(Ie()),Ae=d.a.div(ke()),Ce=L.a().shape({firstName:L.c().required("First name is required").min(3,"Too short").max(25,"Too long"),lastName:L.c().required("Last name is required").min(3,"Too short").max(25,"Too long"),email:L.c().email("Invalid email").required("The email is required"),password:L.c().required("The password is required").min(8,"The password is too short"),confirmPassword:L.c().oneOf([L.b("password"),null],"Password doesnt match").required("You need to confirm your password")}),Fe={signUp:function(e){return function(){var t=Object(C.a)(A.a.mark((function t(n,a,r){var o,i,l,c,u,s;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getFirebase,i=r.getFirestore,l=o(),c=i(),n({type:"AUTH_START"}),t.prev=4,t.next=7,l.auth().createUserWithEmailAndPassword(e.email,e.password);case 7:return u=t.sent,s=l.auth().currentUser,t.next=11,s.sendEmailVerification();case 11:return t.next=13,c.collection("users").doc(u.user.uid).set({firstName:e.firstName,lastName:e.lastName});case 13:n({type:"AUTH_SUCCESS"}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),n({type:"AUTH_FAIL",payload:t.t0.message});case 19:n({type:"AUTH_END"});case 20:case"end":return t.stop()}}),t,null,[[4,16]])})));return function(e,n,a){return t.apply(this,arguments)}}()},cleanUp:H},Re=Object(u.b)((function(e){var t=e.auth;return{loading:t.loading,error:t.error}}),Fe)((function(e){var t=e.signUp,n=e.loading,o=e.error,i=e.cleanUp;return Object(a.useEffect)((function(){i()}),[i]),r.a.createElement(Ue,null,r.a.createElement(R.d,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:Ce,onSubmit:function(e,n){var a=n.setSubmitting;t(e),a(!1)}},(function(e){var t=e.isSubmitting,a=e.isValid;return r.a.createElement(Ae,null,r.a.createElement("p",null,"Sign up"),r.a.createElement(R.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px",width:"100%"}},r.a.createElement(R.b,{type:"text",name:"firstName",placeholder:"Your first name.."}),r.a.createElement(R.a,{name:"firstName"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"text",name:"lastName",placeholder:"Your last name.."}),r.a.createElement(R.a,{name:"lastName"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"email",name:"email",placeholder:"Your email.."}),r.a.createElement(R.a,{name:"email"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"password",name:"password",placeholder:"Your password..."}),r.a.createElement(R.a,{name:"password"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"password",name:"confirmPassword",placeholder:"Confirm password..."}),r.a.createElement(R.a,{name:"confirmPassword"})),r.a.createElement("button",{disabled:!a||t,type:"submit"},n?"Signing up...":"Submit"),o&&r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},o)))})))})),Le={logout:function(){return function(){var e=Object(C.a)(A.a.mark((function e(t,n,a){var r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getFirebase,o=r(),e.prev=2,e.next=5,o.auth().signOut();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n,a){return e.apply(this,arguments)}}()}},Pe=Object(u.b)(null,Le)((function(e){var t=e.logout;return Object(a.useEffect)((function(){t()}),[t]),null})),Ne={sendVerification:function(){return function(){var e=Object(C.a)(A.a.mark((function e(t,n,a){var r,o,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getFirebase,o=r(),t({type:"VERIFY_START"}),e.prev=3,i=o.auth().currentUser,e.next=7,i.sendEmailVerification();case 7:t({type:"VERIFY_SUCCESS"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message),t({type:"VERIFY_FAIL",payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a){return e.apply(this,arguments)}}()},cleanUp:H},Ve=Object(u.b)((function(e){var t=e.auth;return{loading:t.verifyEmail.loading,error:t.verifyEmail.error}}),Ne)((function(e){var t=e.error,n=e.loading,o=e.sendVerification,i=e.cleanUp;return Object(a.useEffect)((function(){return function(){i()}}),[i]),r.a.createElement("div",null,r.a.createElement("h2",null,"You are not verified..."),r.a.createElement("p",null,"Go to your mail inbox and pls verify the email.."),r.a.createElement("button",{disabled:n,onClick:o},n?"Sending email...":"Re-send verification email..."),t?r.a.createElement("p",null,t):!1===t?r.a.createElement("p",null,"Message sent succesfully"):r.a.createElement("p",null,t))}));function Ye(){var e=Object(s.a)(["\n    border-radius: 10px;\n    box-shadow: 0 5px 5px rgba(255, 165, 0,  .5);\n    padding: 30px 60px;\n    display: flex;\n    flex-direction: column;\n    margin: 0 auto;\n    width: 500px;\n    text-align: center;\n"]);return Ye=function(){return e},e}function qe(){var e=Object(s.a)(["\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n"]);return qe=function(){return e},e}var ze=L.a().shape({email:L.c().email("Invalid email").required("The email is required")}),He=d.a.div(qe()),We=d.a.div(Ye()),Ge={recoverPassword:function(e){return function(){var t=Object(C.a)(A.a.mark((function t(n,a,r){var o,i;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.getFirebase,i=o(),n({type:"RECOVERY_START"}),t.prev=3,t.next=6,i.auth().sendPasswordResetEmail(e.email);case 6:n({type:"RECOVERY_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),n({type:"RECOVERY_FAIL",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n,a){return t.apply(this,arguments)}}()}},Be=Object(u.b)((function(e){var t=e.auth;return{loading:t.recoverPassword.loading,error:t.recoverPassword.error}}),Ge)((function(e){var t=e.loading,n=e.error,a=e.recoverPassword;return r.a.createElement(He,null,r.a.createElement(R.d,{initialValues:{email:""},validationSchema:ze,onSubmit:function(e,t){var n=t.setSubmitting;a(e),n(!1)}},(function(e){var a=e.isSubmitting,o=e.isValid;return r.a.createElement(We,null,r.a.createElement("h2",null,"Recover password"),r.a.createElement(R.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px",width:"100%"}},r.a.createElement(R.b,{type:"email",name:"email",placeholder:"Enter email..."}),r.a.createElement(R.a,{name:"email"})),r.a.createElement("button",{disabled:!o||a,type:"submit"},t?"Sending recover email..":"Recover email"),n?r.a.createElement("p",null,n):!1===n?r.a.createElement("p",null,"Recover email sent succesfully"):r.a.createElement("p",null,n)))})))}));function Ke(){var e=Object(s.a)(["\n    border-radius: 10px;\n    box-shadow: 0 5px 5px rgba(255, 165, 0,  .5);\n    padding: 30px 60px;\n    display: flex;\n    flex-direction: column;\n    margin: 0 auto;\n    width: 500px;\n    text-align: center;\n"]);return Ke=function(){return e},e}function Me(){var e=Object(s.a)(["\n    /* background-color: red; */\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n"]);return Me=function(){return e},e}var Je=d.a.div(Me()),Xe=d.a.div(Ke()),Ze=L.a().shape({firstName:L.c().required("First name is required").min(3,"Too short").max(25,"Too long"),lastName:L.c().required("Last name is required").min(3,"Too short").max(25,"Too long"),email:L.c().email("Invalid email").required("The email is required"),password:L.c().min(8,"The password is too short"),confirmPassword:L.c().when("password",{is:function(e){return e>0},then:L.c().required("You need to confirm your password").oneOf([L.b("password"),null],"Password doesnt match")})}),Qe={editProfile:function(e){return function(){var t=Object(C.a)(A.a.mark((function t(n,a,r){var o,i,l,c,u,s,d,m;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.getFirebase,i=r.getFirestore,l=o(),c=i(),u=l.auth().currentUser,s=a().firebase.auth,d=s.uid,m=s.email,n({type:"PROFILE_EDIT_START"}),t.prev=6,e.email===m){t.next=10;break}return t.next=10,u.updateEmail(e.email);case 10:return t.next=12,c.collection("users").doc(d).set({firstName:e.firstName,lastName:e.lastName});case 12:if(!(e.password.length>0)){t.next=15;break}return t.next=15,u.updatePassword(e.password);case 15:n({type:"PROFILE_EDIT_SUCCESS"}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),n({type:"PROFILE_EDIT_FAIL",payload:t.t0.message});case 21:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e,n,a){return t.apply(this,arguments)}}()},cleanUp:H,deleteUser:function(){return function(){var e=Object(C.a)(A.a.mark((function e(t,n,a){var r,o,i,l,c,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.getFirebase,o=a.getFirestore,i=r(),l=o(),c=i.auth().currentUser,u=n().firebase.auth.uid,t({type:"DELETE_USER_START"}),e.prev=6,e.next=9,l.collection("users").doc(u).delete();case 9:return e.next=11,c.delete();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),t({type:"DELETE_USER_FAIL",payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()}},$e=Object(u.b)((function(e){var t=e.firebase,n=e.auth;return{firebase:t,loading:n.profileEdit.loading,error:n.profileEdit.error,loadingDeleteUser:n.deleteUser.loading,errorDeleteUser:n.deleteUser.error}}),Qe)((function(e){var t=e.firebase,n=e.loading,o=e.error,i=e.editProfile,l=e.cleanUp,c=e.loadingDeleteUser,u=e.errorDeleteUser,s=e.deleteUser;Object(a.useEffect)((function(){return function(){l()}}),[l]);var d=Object(a.useState)(!1),m=Object(F.a)(d,2),p=m[0],f=m[1];return t.profile.isLoaded?r.a.createElement(Je,null,r.a.createElement(R.d,{initialValues:{firstName:t.profile.firstName,lastName:t.profile.lastName,email:t.auth.email,password:"",confirmPassword:""},validationSchema:Ze,onSubmit:function(e,t){var n=t.setSubmitting;i(e),n(!1)}},(function(e){var t=e.isSubmitting,a=e.isValid;return r.a.createElement(Xe,null,r.a.createElement("p",null,"Edit Profile"),r.a.createElement(R.c,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px",width:"100%"}},r.a.createElement(R.b,{type:"text",name:"firstName",placeholder:"Your first name.."}),r.a.createElement(R.a,{name:"firstName"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"text",name:"lastName",placeholder:"Your last name.."}),r.a.createElement(R.a,{name:"lastName"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"email",name:"email",placeholder:"Your email.."}),r.a.createElement(R.a,{name:"email"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"password",name:"password",placeholder:"Your password..."}),r.a.createElement(R.a,{name:"password"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"40px"}},r.a.createElement(R.b,{type:"password",name:"confirmPassword",placeholder:"Confirm password..."}),r.a.createElement(R.a,{name:"confirmPassword"})),r.a.createElement("button",{disabled:!a||t,type:"submit"},n?"Editing...":"Submit"),o?r.a.createElement("p",null,o):!1===o?r.a.createElement("p",null,"Edit profile succesfully"):r.a.createElement("p",{style:{backgroundColor:"red",color:"white"}},o)),r.a.createElement("p",{onClick:function(){return f(!0)}},"Delete my account"))})),r.a.createElement(z,{opened:p,close:function(){return f(!1)}},r.a.createElement("h1",null,"Delete account"),r.a.createElement("h3",null,"Do you really want to delete your account?"),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-evenly"}},r.a.createElement("button",{disabled:c,onClick:s},c?"Deleting...":"YES"),r.a.createElement("button",{onClick:function(){return f(!1)}},"Cancel")),u&&r.a.createElement("p",{style:{color:"red",fontWeight:"800"}},u))):null}));var et=Object(u.b)((function(e){var t=e.firebase;return{loggedIn:t.auth.uid,emailVerified:t.auth.emailVerified}}))((function(e){var t,n=e.loggedIn,a=e.emailVerified;return t=n&&!a?r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/todos-locos/verify-email",component:Ve}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/logout",component:Pe}),r.a.createElement(l.a,{to:"/todos-locos/verify-email"})):n&&a?r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/todos-locos/",component:ve}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/logout",component:Pe}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/profile",component:$e}),r.a.createElement(l.a,{to:"/todos-locos"})):r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/todos-locos/login",component:_e}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/signup",component:Re}),r.a.createElement(l.b,{exact:!0,path:"/todos-locos/recover-password",component:Be}),r.a.createElement(l.a,{to:"/todos-locos/login"})),r.a.createElement(c.a,null,r.a.createElement(k,null,t))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=n(64),nt=n(136),at=n.n(nt);n(461),n(465);at.a.initializeApp({apiKey:"AIzaSyDMx1ZxrSjziX93PXYnTICyWzrUUrIVKcI",authDomain:"to-dos-locos.firebaseapp.com",databaseURL:"https://to-dos-locos.firebaseio.com",projectId:"to-dos-locos",storageBucket:"to-dos-locos.appspot.com",messagingSenderId:"994852635401",appId:"1:994852635401:web:19415303577f90ed7a09d8",measurementId:"G-VRLZKMGPR4"}),at.a.firestore();var rt=at.a,ot=n(43),it=n(267),lt=n(1),ct={error:null,loading:!1,verifyEmail:{error:null,loading:!1},recoverPassword:{error:null,loading:!1},profileEdit:{error:null,loading:!1},deleteUser:{error:null,loading:!1}},ut=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0})},st=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1})},dt=function(e,t){return Object(lt.a)(Object(lt.a)({},e),{},{error:t})},mt=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{error:!1})},pt=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{verifyEmail:Object(lt.a)(Object(lt.a)({},e.verifyEmail),{},{loading:!0})})},ft=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{verifyEmail:Object(lt.a)(Object(lt.a)({},e.verifyEmail),{},{loading:!1,error:!1})})},bt=function(e,t){return Object(lt.a)(Object(lt.a)({},e),{},{verifyEmail:Object(lt.a)(Object(lt.a)({},e.verifyEmail),{},{loading:!1,error:t})})},Et=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{recoverPassword:Object(lt.a)(Object(lt.a)({},e.recoverPassword),{},{loading:!0})})},gt=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{recoverPassword:Object(lt.a)(Object(lt.a)({},e.recoverPassword),{},{loading:!1,error:!1})})},ht=function(e,t){return Object(lt.a)(Object(lt.a)({},e),{},{recoverPassword:Object(lt.a)(Object(lt.a)({},e.recoverPassword),{},{loading:!1,error:t})})},vt=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{profileEdit:Object(lt.a)(Object(lt.a)({},e.profileEdit),{},{loading:!0})})},xt=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{profileEdit:Object(lt.a)(Object(lt.a)({},e.profileEdit),{},{loading:!1,error:!1})})},yt=function(e,t){return Object(lt.a)(Object(lt.a)({},e),{},{profileEdit:Object(lt.a)(Object(lt.a)({},e.profileEdit),{},{loading:!1,error:t})})},Ot=function(e){return Object(lt.a)(Object(lt.a)({},e),{},{deleteUser:Object(lt.a)(Object(lt.a)({},e.deleteUser),{},{loading:!0})})},jt=function(e,t){return Object(lt.a)(Object(lt.a)({},e),{},{deleteUser:Object(lt.a)(Object(lt.a)({},e.deleteUser),{},{loading:!1,error:t})})},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ut(e);case"AUTH_SUCCESS":return mt(e);case"AUTH_END":return st(e);case"AUTH_FAIL":return dt(e,t.payload);case"CLEAN_UP":return Object(lt.a)(Object(lt.a)({},e),{},{error:null,loading:!1,verifyEmail:Object(lt.a)(Object(lt.a)({},e.verifyEmail),{},{loading:!1,error:null}),recoverPassword:Object(lt.a)(Object(lt.a)({},e.recoverPassword),{},{loading:!1,error:null}),profileEdit:Object(lt.a)(Object(lt.a)({},e.profileEdit),{},{loading:!1,error:null}),deleteUser:Object(lt.a)(Object(lt.a)({},e.deleteUser),{},{loading:!1,error:null})});case"VERIFY_START":return pt(e);case"VERIFY_SUCCESS":return ft(e);case"VERIFY_FAIL":return bt(e,t.payload);case"RECOVERY_START":return Et(e);case"RECOVERY_SUCCESS":return gt(e);case"RECOVERY_FAIL":return ht(e,t.payload);case"PROFILE_EDIT_START":return vt(e);case"PROFILE_EDIT_SUCCESS":return xt(e);case"PROFILE_EDIT_FAIL":return yt(e,t.payload);case"DELETE_USER_START":return Ot(e);case"DELETE_USER_FAIL":return jt(e,t.payload);default:return e}},Tt={error:null,loading:!1,deleteTodo:{error:null,loading:!1},editTodo:{erro:null,loading:!1}},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO_START":return Object(lt.a)(Object(lt.a)({},e),{},{loading:!0});case"ADD_TODO_SUCCESS":return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:!1});case"ADD_TODO_FAIL":return Object(lt.a)(Object(lt.a)({},e),{},{loading:!1,error:t.payload});case"DELETE_TODO_START":return Object(lt.a)(Object(lt.a)({},e),{},{deleteTodo:Object(lt.a)(Object(lt.a)({},e.deleteTodo),{},{loading:!0})});case"DELETE_TODO_SUCCESS":return Object(lt.a)(Object(lt.a)({},e),{},{deleteTodo:Object(lt.a)(Object(lt.a)({},e.deleteTodo),{},{loading:!1,error:!1})});case"DELETE_TODO_FAIL":return Object(lt.a)(Object(lt.a)({},e),{},{deleteTodo:Object(lt.a)(Object(lt.a)({},e.deleteTodo),{},{loading:!1,error:t.payload})});case"EDIT_TODO_START":return Object(lt.a)(Object(lt.a)({},e),{},{editTodo:Object(lt.a)(Object(lt.a)({},e.editTodo),{},{loading:!0})});case"EDIT_TODO_SUCCESS":return Object(lt.a)(Object(lt.a)({},e),{},{editTodo:Object(lt.a)(Object(lt.a)({},e.editTodo),{},{loading:!1,error:!1})});case"EDIT_TODO_FAIL":return Object(lt.a)(Object(lt.a)({},e),{},{editTodo:Object(lt.a)(Object(lt.a)({},e.editTodo),{},{loading:!1,error:t.payload})});default:return e}},Dt=Object(ot.c)({auth:wt,todos:St,firebase:I.firebaseReducer,firestore:tt.firestoreReducer}),_t=ot.d,kt=Object(ot.e)(Dt,_t(Object(tt.reduxFirestore)(rt),Object(ot.a)(it.a.withExtraArgument({getFirebase:I.getFirebase,getFirestore:tt.getFirestore})))),It={firebase:rt,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:kt.dispatch,createFirestoreInstance:tt.createFirestoreInstance};i.a.render(r.a.createElement(u.a,{store:kt},r.a.createElement(I.ReactReduxFirebaseProvider,It,r.a.createElement(r.a.StrictMode,null,r.a.createElement(et,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[268,1,2]]]);
//# sourceMappingURL=main.b5a9a5e1.chunk.js.map